import{a as E}from"./chunk-5EEMA4FU.js";import{a as V,b as L}from"./chunk-TTR5OSFT.js";import{a as D,b as j}from"./chunk-DMBGX37V.js";import{n as N}from"./chunk-CYFMJ57Z.js";import{d as S,j as I,r as y,t as T}from"./chunk-H3KW6RZE.js";import{Ga as f,Ma as x,Ua as _,Va as h,Xa as r,Ya as c,Za as d,_a as g,aa as m,ba as p,bb as s,cb as a,ga as P,ib as b,jb as l,lb as O,ua as w,wa as u,xa as v,xb as k}from"./chunk-QDANSVX3.js";var M=class n{constructor(i){this.themeService=i}isOn=!0;toggle=new P;toggleSwitch(){this.isOn=!this.isOn,this.toggle.emit(this.isOn),this.themeService.toggleTheme()}static \u0275fac=function(e){return new(e||n)(v(E))};static \u0275cmp=f({type:n,selectors:[["app-theme"]],inputs:{isOn:"isOn"},outputs:{toggle:"toggle"},decls:2,vars:2,consts:[[1,"switch",3,"click"],[1,"toggle"]],template:function(e,t){e&1&&(r(0,"div",0),s("click",function(){return t.toggleSwitch()}),d(1,"div",1),c()),e&2&&h("on",t.isOn)},styles:[".switch[_ngcontent-%COMP%]{width:50px;height:25px;background-color:#c7eeff;border-radius:25px;position:relative;cursor:pointer;transition:background-color .3s ease}.switch.on[_ngcontent-%COMP%]{background-color:#0077c0}.toggle[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#fafafa;border:#1D242B 2px solid;border-radius:50%;position:absolute;top:2.5px;left:2.5px;transition:left .3s ease}.switch.on[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{left:25.5px}"]})};function A(n,i){n&1&&(r(0,"div",12),l(1," Account "),c())}function W(n,i){n&1&&(r(0,"div",13),l(1,"Login"),c())}function U(n,i){if(n&1){let e=g();r(0,"div",14),s("click",function(){m(e);let o=a(2);return p(o.logout())}),l(1,"logout"),c()}}function H(n,i){if(n&1){let e=g();r(0,"div")(1,"header",3)(2,"div",4),d(3,"img",5),c(),r(4,"nav",6),d(5,"app-search"),r(6,"div",7),l(7,"Shoes"),c(),r(8,"div",8),l(9),c(),x(10,A,2,0,"div",9)(11,W,2,0,"ng-template",null,1,k)(13,U,2,0,"div",10),r(14,"app-theme",11),s("toggle",function(o){m(e);let C=a();return p(C.onDarkMode(o))}),c()()()()}if(n&2){let e=b(12),t=a();u(9),O("Carrello ",t.cartItems>0?"("+t.cartItems+")":"",""),u(),_("ngIf",t.userId)("ngIfElse",e),u(3),_("ngIf",t.userId)}}function $(n,i){n&1&&d(0,"img",26)}function q(n,i){if(n&1){let e=g();r(0,"div",27),s("click",function(){m(e);let o=a(2);return p(o.closeMenu())}),r(1,"h1",28),l(2,"Close"),c()()}}function G(n,i){if(n&1){let e=g();r(0,"div",29),s("click",function(){m(e);let o=a(2);return p(o.closeMenu())}),l(1," Account "),c()}}function J(n,i){if(n&1){let e=g();r(0,"div",30),s("click",function(){m(e);let o=a(2);return p(o.closeMenu())}),l(1,"Login"),c()}}function K(n,i){if(n&1){let e=g();r(0,"div",14),s("click",function(){m(e);let o=a(2);return o.logout(),p(o.closeMenu())}),l(1,"Logout"),c()}}function Q(n,i){if(n&1){let e=g();r(0,"div",15)(1,"header",3)(2,"div",16),d(3,"img",5),c(),r(4,"div",17),s("click",function(){m(e);let o=a();return p(o.toggleMenu())}),x(5,$,1,0,"img",18),c()(),x(6,q,3,0,"div",19),r(7,"nav",20)(8,"div",21),d(9,"img",22),c(),r(10,"div",23),s("click",function(){m(e);let o=a();return p(o.closeMenu())}),l(11,"Shoes"),c(),r(12,"div",24),s("click",function(){m(e);let o=a();return p(o.closeMenu())}),l(13),c(),x(14,G,2,0,"div",25)(15,J,2,0,"ng-template",null,1,k)(17,K,2,0,"div",10),r(18,"app-theme",11),s("toggle",function(o){m(e);let C=a();return p(C.onDarkMode(o))}),c()()()}if(n&2){let e=b(16),t=a();u(5),_("ngIf",!t.menuOpen),u(),_("ngIf",t.menuOpen),u(),h("open",t.menuOpen),u(6),O(" Carrello ",t.cartItems>0?"("+t.cartItems+")":""," "),u(),_("ngIf",t.userId)("ngIfElse",e),u(3),_("ngIf",t.userId)}}var B=class n{constructor(i,e,t){this.usersService=i;this.productsService=e;this.cartService=t}userId=null;cartItems=0;isOn=!1;isExpanded=!1;searchText="";results=[];allProducts=[];Desktop=!0;menuOpen=!1;onResize(){this.checkBodyWidth()}checkBodyWidth(){let i=document.body.clientWidth;this.Desktop=i>810}ngOnInit(){this.checkBodyWidth(),this.usersService.userId$.subscribe(i=>{this.userId=i}),this.productsService.getProducts().subscribe({next:i=>{this.allProducts=i},error:i=>{console.error("Errore nel recupero dei prodotti:",i)}}),this.cartService.syncCartItems(),this.cartService.cartItems$.subscribe(i=>{this.cartItems=i.length})}onDarkMode(i){this.isOn=i}logout(){this.usersService.setLoggedStatus(!1),this.cartService.clearCart(),this.usersService.clearUserData(),localStorage.clear(),window.location.reload()}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static \u0275fac=function(e){return new(e||n)(v(D),v(V),v(j))};static \u0275cmp=f({type:n,selectors:[["app-nav"]],hostBindings:function(e,t){e&1&&s("resize",function(C){return t.onResize(C)},!1,w)},decls:3,vars:2,consts:[["mobile",""],["loginLink",""],[4,"ngIf","ngIfElse"],[1,"d-flex","justify-content-between"],["id","","routerLink","",1,"reverse","m-3","cursor-pointer"],["src","assets/img/logo/logo.png","alt","",1,"m-img"],["id","",1,"menu","d-flex","gap-3","align-items-center","px-3"],["routerLink","/products",1,"cursor-pointer"],["routerLink","/cart",1,"cursor-pointer"],["class","cursor-pointer","routerLink","/account",4,"ngIf","ngIfElse"],["class","cursor-pointer","routerLink","",3,"click",4,"ngIf"],[3,"toggle"],["routerLink","/account",1,"cursor-pointer"],["routerLink","/login",1,"cursor-pointer"],["routerLink","",1,"cursor-pointer",3,"click"],[1,"nav-mobile"],["routerLink","/",1,"reverse","m-3","cursor-pointer"],[1,"menu-icon","reverse","m-3","cursor-pointer",3,"click"],["src","assets/img/logo/menu-button.png","alt","Apri menu","class","s-img",4,"ngIf"],["class","mobile-menu-overlay text-center position-absolute",3,"click",4,"ngIf"],[1,"mobile-menu","d-flex","flex-column","justify-content-center","align-items-center","position-fixed","top-0"],["routerLink","/search",1,"search"],["src","assets/img/logo/search.png","alt","",1,"s-img"],["routerLink","/products",1,"cursor-pointer",3,"click"],["routerLink","/cart",1,"cursor-pointer",3,"click"],["class","cursor-pointer","routerLink","/account",3,"click",4,"ngIf","ngIfElse"],["src","assets/img/logo/menu-button.png","alt","Apri menu",1,"s-img"],[1,"mobile-menu-overlay","text-center","position-absolute",3,"click"],[1,""],["routerLink","/account",1,"cursor-pointer",3,"click"],["routerLink","/login",1,"cursor-pointer",3,"click"]],template:function(e,t){if(e&1&&x(0,H,15,4,"div",2)(1,Q,19,8,"ng-template",null,0,k),e&2){let o=b(2);_("ngIf",t.Desktop)("ngIfElse",o)}},dependencies:[M,N,I,S,T,y,L],styles:['@charset "UTF-8";.nav-mobile[_ngcontent-%COMP%]   .mobile-menu-overlay[_ngcontent-%COMP%]{left:-50px!important}.nav-mobile[_ngcontent-%COMP%]   .mobile-menu-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{writing-mode:vertical-lr;text-orientation:mixed;height:100%;font-size:5rem;color:#fafafa}.nav-mobile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 30px;box-shadow:0 2px 10px #0000001a}.nav-mobile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .reverse[_ngcontent-%COMP%]{cursor:pointer}.nav-mobile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .reverse[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:auto}.nav-mobile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{cursor:pointer}.nav-mobile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;transition:transform .3s ease-in-out}.nav-mobile[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]{position:fixed;top:0;right:-100%;width:70%;height:100vh;background:#fffefee6;color:#1d242b;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;box-shadow:-5px 0 10px #0003;transition:right .3s ease-in-out;z-index:1000}.nav-mobile[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer;font-size:20px;font-weight:700;padding:10px;transition:color .3s}.nav-mobile[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#0077c0}.nav-mobile[_ngcontent-%COMP%]   .mobile-menu.open[_ngcontent-%COMP%]{right:0}.nav-mobile[_ngcontent-%COMP%]   .mobile-menu-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background:#00000080;z-index:999}@media (max-width: 810px){.nav-mobile[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:none}.nav-mobile[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{display:flex}}']})};var R=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-footer"]],decls:2,vars:0,template:function(e,t){e&1&&(r(0,"footer"),l(1,` \xA9 2025 LabAir, Inc. Tutti i diritti riservati
`),c())},encapsulation:2})};export{B as a,R as b};
