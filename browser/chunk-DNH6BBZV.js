import{a as D,b as A}from"./chunk-QB2EKRTE.js";import{a as j,b as F}from"./chunk-UQEQSQWP.js";import{n as V}from"./chunk-RWD2KIVF.js";import{d as T,j as N,r as E,t as L}from"./chunk-NIGWU2LA.js";import{Ga as f,Ma as C,O as I,Ua as u,Va as h,Xa as r,Ya as c,Za as g,_a as _,aa as m,ba as p,bb as s,cb as a,fb as b,ga as S,gb as l,ib as P,ua as y,ub as k,wa as d,xa as v}from"./chunk-SSAAJQVM.js";var M=class t{darkModeActive=!1;toggleTheme(){this.darkModeActive=!this.darkModeActive,this.darkModeActive?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")}isDarkMode(){return this.darkModeActive}static \u0275fac=function(e){return new(e||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};var O=class t{constructor(n){this.themeService=n}isOn=!0;toggle=new S;toggleSwitch(){this.isOn=!this.isOn,this.toggle.emit(this.isOn),this.themeService.toggleTheme()}static \u0275fac=function(e){return new(e||t)(v(M))};static \u0275cmp=f({type:t,selectors:[["app-theme"]],inputs:{isOn:"isOn"},outputs:{toggle:"toggle"},decls:2,vars:2,consts:[[1,"switch",3,"click"],[1,"toggle"]],template:function(e,i){e&1&&(r(0,"div",0),s("click",function(){return i.toggleSwitch()}),g(1,"div",1),c()),e&2&&h("on",i.isOn)},styles:[".switch[_ngcontent-%COMP%]{width:50px;height:25px;background-color:#c7eeff;border-radius:25px;position:relative;cursor:pointer;transition:background-color .3s ease}.switch.on[_ngcontent-%COMP%]{background-color:#0077c0}.toggle[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#fafafa;border:#1D242B 2px solid;border-radius:50%;position:absolute;top:2.5px;left:2.5px;transition:left .3s ease}.switch.on[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{left:25.5px}"]})};function U(t,n){t&1&&(r(0,"div",12),l(1," Account "),c())}function H(t,n){t&1&&(r(0,"div",13),l(1,"Login"),c())}function $(t,n){if(t&1){let e=_();r(0,"div",14),s("click",function(){m(e);let o=a(2);return p(o.logout())}),l(1,"logout"),c()}}function q(t,n){if(t&1){let e=_();r(0,"div")(1,"header",3)(2,"div",4),g(3,"img",5),c(),r(4,"nav",6),g(5,"app-search"),r(6,"div",7),l(7,"Shoes"),c(),r(8,"div",8),l(9),c(),C(10,U,2,0,"div",9)(11,H,2,0,"ng-template",null,1,k)(13,$,2,0,"div",10),r(14,"app-theme",11),s("toggle",function(o){m(e);let x=a();return p(x.onDarkMode(o))}),c()()()()}if(t&2){let e=b(12),i=a();d(9),P("Carrello ",i.cartItems>0?"("+i.cartItems+")":"",""),d(),u("ngIf",i.userId)("ngIfElse",e),d(3),u("ngIf",i.userId)}}function G(t,n){t&1&&g(0,"img",28)}function J(t,n){t&1&&g(0,"img",29)}function K(t,n){if(t&1){let e=_();r(0,"div",30),s("click",function(){m(e);let o=a(2);return p(o.closeMenu())}),r(1,"h1",31),l(2,"Close"),c()()}}function Q(t,n){if(t&1){let e=_();r(0,"div",32),s("click",function(){m(e);let o=a(2);return p(o.closeMenu())}),l(1," Account "),c()}}function X(t,n){if(t&1){let e=_();r(0,"div",33),s("click",function(){m(e);let o=a(2);return p(o.closeMenu())}),l(1,"Login"),c()}}function Y(t,n){if(t&1){let e=_();r(0,"div",14),s("click",function(){m(e);let o=a(2);return o.logout(),p(o.closeMenu())}),l(1,"Logout"),c()}}function Z(t,n){if(t&1){let e=_();r(0,"div",15)(1,"header",3)(2,"div",16),g(3,"img",17),c(),r(4,"div",18),s("click",function(){m(e);let o=a();return p(o.toggleMenu())}),C(5,G,1,0,"img",19)(6,J,1,0,"img",20),c()(),C(7,K,3,0,"div",21),r(8,"nav",22)(9,"div",23),g(10,"img",24),c(),r(11,"div",25),s("click",function(){m(e);let o=a();return p(o.closeMenu())}),l(12,"Shoes"),c(),r(13,"div",26),s("click",function(){m(e);let o=a();return p(o.closeMenu())}),l(14),c(),C(15,Q,2,0,"div",27)(16,X,2,0,"ng-template",null,1,k)(18,Y,2,0,"div",10),r(19,"app-theme",11),s("toggle",function(o){m(e);let x=a();return p(x.onDarkMode(o))}),c()()()}if(t&2){let e=b(17),i=a();d(5),u("ngIf",!i.menuOpen),d(),u("ngIf",i.menuOpen),d(),u("ngIf",i.menuOpen),d(),h("open",i.menuOpen),d(6),P(" Carrello ",i.cartItems>0?"("+i.cartItems+")":""," "),d(),u("ngIf",i.userId)("ngIfElse",e),d(3),u("ngIf",i.userId)}}var B=class t{constructor(n,e,i){this.usersService=n;this.productsService=e;this.cartService=i}userId=null;cartItems=0;isOn=!1;isExpanded=!1;searchText="";results=[];allProducts=[];Desktop=!0;menuOpen=!1;onResize(){this.checkBodyWidth()}checkBodyWidth(){let n=document.body.clientWidth;this.Desktop=n>810}ngOnInit(){this.checkBodyWidth(),this.usersService.userId$.subscribe(n=>{this.userId=n}),this.productsService.getProducts().subscribe({next:n=>{this.allProducts=n},error:n=>{console.error("Errore nel recupero dei prodotti:",n)}}),this.cartService.syncCartItems(),this.cartService.cartItems$.subscribe(n=>{this.cartItems=n.length})}onDarkMode(n){this.isOn=n}logout(){this.usersService.setLoggedStatus(!1),this.cartService.clearCart(),this.usersService.clearUserData(),localStorage.clear(),window.location.reload()}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static \u0275fac=function(e){return new(e||t)(v(j),v(D),v(F))};static \u0275cmp=f({type:t,selectors:[["app-nav"]],hostBindings:function(e,i){e&1&&s("resize",function(x){return i.onResize(x)},!1,y)},decls:3,vars:2,consts:[["mobile",""],["loginLink",""],[4,"ngIf","ngIfElse"],[1,"d-flex","justify-content-between"],["id","","routerLink","",1,"reverse","m-3","cursor-pointer"],["src","assets/img/logo/logo.png","alt","",1,"m-img"],["id","",1,"menu","d-flex","gap-3","align-items-center","px-3"],["routerLink","/products",1,"cursor-pointer"],["routerLink","/cart",1,"cursor-pointer"],["class","cursor-pointer","routerLink","/account",4,"ngIf","ngIfElse"],["class","cursor-pointer","routerLink","",3,"click",4,"ngIf"],[3,"toggle"],["routerLink","/account",1,"cursor-pointer"],["routerLink","/login",1,"cursor-pointer"],["routerLink","",1,"cursor-pointer",3,"click"],[1,"nav-mobile"],["routerLink","/",1,"reverse","m-3","cursor-pointer"],["src","/img/logo/logo.png","alt","",1,"m-img"],[1,"menu-icon","reverse","m-3","cursor-pointer",3,"click"],["src","/img/logo/menu-button.png","alt","Apri menu","class","s-img",4,"ngIf"],["src","/img/logo/close.png","alt","Chiudi menu","class","s-img",4,"ngIf"],["class","mobile-menu-overlay text-center position-absolute",3,"click",4,"ngIf"],[1,"mobile-menu","d-flex","flex-column","justify-content-center","align-items-center","position-fixed","top-0"],["routerLink","/search",1,"search"],["src","/img/logo/search.png","alt","",1,"s-img"],["routerLink","/products",1,"cursor-pointer",3,"click"],["routerLink","/cart",1,"cursor-pointer",3,"click"],["class","cursor-pointer","routerLink","/account",3,"click",4,"ngIf","ngIfElse"],["src","/img/logo/menu-button.png","alt","Apri menu",1,"s-img"],["src","/img/logo/close.png","alt","Chiudi menu",1,"s-img"],[1,"mobile-menu-overlay","text-center","position-absolute",3,"click"],[1,""],["routerLink","/account",1,"cursor-pointer",3,"click"],["routerLink","/login",1,"cursor-pointer",3,"click"]],template:function(e,i){if(e&1&&C(0,q,15,4,"div",2)(1,Z,20,9,"ng-template",null,0,k),e&2){let o=b(2);u("ngIf",i.Desktop)("ngIfElse",o)}},dependencies:[O,V,N,T,L,E,A],styles:['@charset "UTF-8";.nav-mobile[_ngcontent-%COMP%]   .mobile-menu-overlay[_ngcontent-%COMP%]{left:-50px!important}.nav-mobile[_ngcontent-%COMP%]   .mobile-menu-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{writing-mode:vertical-lr;text-orientation:mixed;height:100%;font-size:5rem;color:#fafafa}.nav-mobile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 30px;box-shadow:0 2px 10px #0000001a}.nav-mobile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .reverse[_ngcontent-%COMP%]{cursor:pointer}.nav-mobile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .reverse[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:auto}.nav-mobile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{cursor:pointer}.nav-mobile[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;transition:transform .3s ease-in-out}.nav-mobile[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]{position:fixed;top:0;right:-100%;width:70%;height:100vh;background:#fffefee6;color:#1d242b;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;box-shadow:-5px 0 10px #0003;transition:right .3s ease-in-out;z-index:1000}.nav-mobile[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer;font-size:20px;font-weight:700;padding:10px;transition:color .3s}.nav-mobile[_ngcontent-%COMP%]   .mobile-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#0077c0}.nav-mobile[_ngcontent-%COMP%]   .mobile-menu.open[_ngcontent-%COMP%]{right:0}.nav-mobile[_ngcontent-%COMP%]   .mobile-menu-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background:#00000080;z-index:999}@media (max-width: 810px){.nav-mobile[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:none}.nav-mobile[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{display:flex}}']})};var R=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-footer"]],decls:2,vars:0,template:function(e,i){e&1&&(r(0,"footer"),l(1,` \xA9 2025 LabAir, Inc. Tutti i diritti riservati
`),c())},encapsulation:2})};export{B as a,R as b};
