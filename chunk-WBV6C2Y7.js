import{a as K}from"./chunk-5IRAVZUZ.js";import{a as G,b as J}from"./chunk-4UAIOIPD.js";import"./chunk-5EEMA4FU.js";import{a as q}from"./chunk-TTR5OSFT.js";import"./chunk-DMBGX37V.js";import{a as N,c as $,e as j,h as H,n as A}from"./chunk-CYFMJ57Z.js";import{c as T,d as z,h as R,j as W,r as L,t as U}from"./chunk-H3KW6RZE.js";import{Ga as B,Ma as C,Ua as s,Va as O,Wa as b,Xa as i,Ya as n,Za as P,_a as h,aa as p,ba as g,bb as m,cb as d,db as v,ib as E,jb as a,kb as u,lb as w,nb as S,ob as k,pb as F,rb as V,sa as M,tb as x,ua as I,vb as f,wa as c,xa as y,xb as D}from"./chunk-QDANSVX3.js";var X=r=>["/product",r];function Y(r,t){if(r&1){let e=h();i(0,"div")(1,"label")(2,"input",10),m("change",function(){let l=p(e).$implicit,_=d(2);return g(_.filterByCategory(l.name))}),n(),a(3),n()()}if(r&2){let e=t.$implicit,o=d(2);c(2),s("checked",o.selectedCategory===e.name),c(),w(" ",e.name," ")}}function Z(r,t){if(r&1){let e=h();i(0,"div")(1,"label")(2,"input",21),m("change",function(){let l=p(e).$implicit,_=d(2);return g(_.filterByColor(l))}),n(),a(3),n()()}if(r&2){let e=t.$implicit,o=d(2);c(2),s("checked",o.selectedColor===e),c(),w(" ",e," ")}}function ee(r,t){if(r&1&&(i(0,"div",20)(1,"div",23)(2,"a",24),P(3,"img",25),n(),i(4,"div",26)(5,"h5",27),a(6),n(),i(7,"p",28),a(8),n(),i(9,"p",29)(10,"strong"),a(11),x(12,"currency"),n()()()()()),r&2){let e=t.$implicit;c(2),s("routerLink",V(9,X,e.id)),c(),v("alt",e.name),s("src",e.image[0],M),c(3),u(e.name),c(2),u(e.category),c(3),u(f(12,6,e.price,"EUR"))}}function te(r,t){if(r&1&&C(0,ee,13,11,"div",22),r&2){let e=d(2);s("ngForOf",e.filteredProducts)}}function ne(r,t){r&1&&(i(0,"div",20)(1,"h5",27),a(2,"Nessun prodotto trovato"),n()())}function ie(r,t){if(r&1){let e=h();i(0,"div",3)(1,"div",4)(2,"div",5)(3,"h4"),a(4,"Filtri"),n(),i(5,"div",6)(6,"div",7)(7,"button",8),m("click",function(){p(e);let l=d();return g(l.toggleCategoryDropdown())}),a(8," Filtra per Categoria "),i(9,"span"),a(10,"\u25BE"),n()(),i(11,"div",9)(12,"label")(13,"input",10),m("change",function(){p(e);let l=d();return g(l.filterByCategory(""))}),n(),a(14," Tutti i prodotti "),n(),C(15,Y,4,2,"div",11),n()()(),i(16,"div",12)(17,"div",7)(18,"button",8),m("click",function(){p(e);let l=d();return g(l.toggleColorDropdown())}),a(19," Filtra per Colore "),i(20,"span"),a(21,"\u25BE"),n()(),i(22,"div",9),C(23,Z,4,2,"div",11),n()()(),i(24,"div",13)(25,"h5"),a(26,"Filtra per Prezzo"),n(),i(27,"div",14)(28,"span"),a(29),x(30,"currency"),n(),i(31,"span"),a(32),x(33,"currency"),n()(),i(34,"div",15)(35,"input",16),F("ngModelChange",function(l){p(e);let _=d();return k(_.selectedMaxPrice,l)||(_.selectedMaxPrice=l),g(l)}),m("input",function(){p(e);let l=d();return g(l.applyFilters())}),n()(),i(36,"p",17),a(37,"Prezzo selezionato: "),i(38,"strong"),a(39),x(40,"currency"),n()()()(),i(41,"div",18)(42,"div",19),C(43,te,1,1,"div",20)(44,ne,3,0,"div",20),n()()()()}if(r&2){let e=d();c(11),O("show",e.isCategoryDropdownOpen),c(2),s("checked",e.selectedCategory===null),c(2),s("ngForOf",e.categories),c(7),O("show",e.isColorDropdownOpen),c(),s("ngForOf",e.availableColors),c(6),u(f(30,14,e.minPrice,"EUR")),c(3),u(f(33,17,e.maxPrice,"EUR")),c(3),v("min",e.minPrice),v("max",e.maxPrice),S("ngModel",e.selectedMaxPrice),c(4),u(f(40,20,e.selectedMaxPrice,"EUR")),c(4),b(43)}}function oe(r,t){if(r&1){let e=h();i(0,"div")(1,"label")(2,"input",10),m("change",function(){let l=p(e).$implicit,_=d(2);return g(_.filterByCategory(l.name))}),n(),a(3),n()()}if(r&2){let e=t.$implicit,o=d(2);c(2),s("checked",o.selectedCategory===e.name),c(),w(" ",e.name," ")}}function re(r,t){if(r&1){let e=h();i(0,"div")(1,"label")(2,"input",21),m("change",function(){let l=p(e).$implicit,_=d(2);return g(_.filterByColor(l))}),n(),a(3),n()()}if(r&2){let e=t.$implicit,o=d(2);c(2),s("checked",o.selectedColor===e),c(),w(" ",e," ")}}function ce(r,t){r&1&&P(0,"img",36)}function le(r,t){r&1&&(i(0,"div",37),P(1,"img",38),n())}function ae(r,t){if(r&1&&(i(0,"div",20)(1,"div",23)(2,"a",24),P(3,"img",25),n(),i(4,"div",26)(5,"h5",27),a(6),n(),i(7,"p",28),a(8),n(),i(9,"p",29)(10,"strong"),a(11),x(12,"currency"),n()()()()()),r&2){let e=t.$implicit;c(2),s("routerLink",V(9,X,e.id)),c(),v("alt",e.name),s("src",e.image[0],M),c(3),u(e.name),c(2),u(e.category),c(3),u(f(12,6,e.price,"EUR"))}}function de(r,t){if(r&1&&C(0,ae,13,11,"div",22),r&2){let e=d(2);s("ngForOf",e.filteredProducts)}}function se(r,t){r&1&&(i(0,"div",20)(1,"h5",27),a(2,"Nessun prodotto trovato"),n()())}function pe(r,t){if(r&1){let e=h();i(0,"div",30)(1,"div",31)(2,"div",32)(3,"h4"),a(4,"Filtri"),n(),i(5,"div",6)(6,"div",7)(7,"button",8),m("click",function(){p(e);let l=d();return g(l.toggleCategoryDropdown())}),a(8," Filtra per Categoria "),i(9,"span"),a(10,"\u25BE"),n()(),i(11,"div",9)(12,"label")(13,"input",10),m("change",function(){p(e);let l=d();return g(l.filterByCategory(""))}),n(),a(14," Tutti i prodotti "),n(),C(15,oe,4,2,"div",11),n()()(),i(16,"div",12)(17,"div",7)(18,"button",8),m("click",function(){p(e);let l=d();return g(l.toggleColorDropdown())}),a(19," Filtra per Colore "),i(20,"span"),a(21,"\u25BE"),n()(),i(22,"div",9),C(23,re,4,2,"div",11),n()()(),i(24,"div",13)(25,"h5"),a(26,"Filtra per Prezzo"),n(),i(27,"div",14)(28,"span"),a(29),x(30,"currency"),n(),i(31,"span"),a(32),x(33,"currency"),n()(),i(34,"div",15)(35,"input",16),F("ngModelChange",function(l){p(e);let _=d();return k(_.selectedMaxPrice,l)||(_.selectedMaxPrice=l),g(l)}),m("input",function(){p(e);let l=d();return g(l.applyFilters())}),n()(),i(36,"p",17),a(37,"Prezzo selezionato: "),i(38,"strong"),a(39),x(40,"currency"),n()()()(),i(41,"div",33),m("click",function(){p(e);let l=d();return g(l.toggleFilter())}),C(42,ce,1,0,"img",34)(43,le,2,0,"ng-template",null,1,D),n(),i(45,"div",35)(46,"div",19),C(47,de,1,1,"div",20)(48,se,3,0,"div",20),n()()()()}if(r&2){let e=E(44),o=d();c(2),O("show",o.isFilterOpen),c(9),O("show",o.isCategoryDropdownOpen),c(2),s("checked",o.selectedCategory===null),c(2),s("ngForOf",o.categories),c(7),O("show",o.isColorDropdownOpen),c(),s("ngForOf",o.availableColors),c(6),u(f(30,18,o.minPrice,"EUR")),c(3),u(f(33,21,o.maxPrice,"EUR")),c(3),v("min",o.minPrice),v("max",o.maxPrice),S("ngModel",o.selectedMaxPrice),c(4),u(f(40,24,o.selectedMaxPrice,"EUR")),c(3),s("ngIf",!o.isFilterOpen)("ngIfElse",e),c(5),b(47)}}var Q=class r{constructor(t,e){this.filterService=t;this.productsService=e}products=[];categories=[];filteredProducts=[];selectedCategory=null;selectedColor=null;isCategoryDropdownOpen=!1;isPriceDropdownOpen=!1;isColorDropdownOpen=!1;selectedPriceRange=null;Desktop=!0;availableColors=[];isFilterOpen=!1;minPrice=50;maxPrice=300;selectedMaxPrice=this.maxPrice;onResize(){this.checkBodyWidth()}checkBodyWidth(){let t=document.body.clientWidth;this.Desktop=t>1270}ngOnInit(){this.checkBodyWidth(),this.filterService.selectedCategory.subscribe(t=>{this.selectedCategory=t}),this.productsService.getCategories().subscribe(t=>{this.categories=t}),this.productsService.getProducts().subscribe(t=>{this.products=t,this.selectedCategory=this.selectedCategory||null,this.filterProducts()}),this.productsService.getAvailableColors().subscribe(t=>{this.availableColors=t}),this.productsService.selectedCategory$.subscribe(t=>{this.selectedCategory=t,this.filterProducts()})}toggleCategoryDropdown(){this.isCategoryDropdownOpen=!this.isCategoryDropdownOpen,this.closeOtherDropdowns("category")}togglePriceDropdown(){this.isPriceDropdownOpen=!this.isPriceDropdownOpen,this.closeOtherDropdowns("price")}toggleColorDropdown(){this.isColorDropdownOpen=!this.isColorDropdownOpen,this.closeOtherDropdowns("color")}closeOtherDropdowns(t){t!=="category"&&(this.isCategoryDropdownOpen=!1),t!=="price"&&(this.isPriceDropdownOpen=!1),t!=="color"&&(this.isColorDropdownOpen=!1)}filterProducts(){let t=this.products;this.selectedCategory?t=t.filter(e=>e.category.toLowerCase()===this.selectedCategory?.toLowerCase()):this.filteredProducts=this.products,this.selectedColor&&(t=t.filter(e=>e.color_available.some(o=>o.toLowerCase().includes(this.selectedColor.toLowerCase())))),this.selectedPriceRange!==null&&this.selectedPriceRange!==""&&(t=t.filter(e=>{switch(this.selectedPriceRange){case"low":return e.price<100;case"medium":return e.price>=100&&e.price<=200;case"high":return e.price>200;default:return!0}})),this.filteredProducts=t}filterByColor(t){this.selectedColor=t,this.filterProducts()}filterByPrice(t){this.selectedPriceRange=t,this.filterProducts()}filterByCategory(t){this.selectedCategory=t,this.filterProducts()}applyFilters(){this.filteredProducts=this.products.filter(t=>{let e=this.selectedCategory?t.category===this.selectedCategory:!0,o=this.selectedColor?t.color_available.includes(this.selectedColor):!0,l=t.price<=this.selectedMaxPrice;return e&&o&&l})}toggleFilter(){this.isFilterOpen===!0?this.isFilterOpen=!1:this.isFilterOpen=!0,console.log(this.isFilterOpen)}static \u0275fac=function(e){return new(e||r)(y(K),y(q))};static \u0275cmp=B({type:r,selectors:[["app-products"]],hostBindings:function(e,o){e&1&&m("resize",function(_){return o.onResize(_)},!1,I)},decls:5,vars:2,consts:[["mobile",""],["close",""],["class","products p-3 body",4,"ngIf","ngIfElse"],[1,"products","p-3","body"],[1,"row","position-relative","start-0","w-100"],[1,"col-lg-3","filter","p-3"],[1,"categories"],[1,"filter-dropdown"],[1,"btn","btn-outline-secondary","w-100","mb-3",3,"click"],[1,"dropdown-content"],["type","radio","name","category",3,"change","checked"],[4,"ngFor","ngForOf"],[1,"colors"],[1,"price-filter"],[1,"d-flex","justify-content-between"],[1,"price-slider"],["type","range",1,"form-range",3,"ngModelChange","input","min","max","ngModel"],[1,"text-center","mt-2"],[1,"col-lg-9","products-list"],[1,"row","cards-container"],[1,"col-md-4"],["type","checkbox",3,"change","checked"],["class","col-md-4 ",4,"ngFor","ngForOf"],[1,"product-card"],[1,"w-100","product-image","d-flex","justify-content-center",3,"routerLink"],[1,"",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text","text-muted"],[1,"card-price"],[1,"products","p-3","mobile","body"],[1,"d-flex","flex-column","position-relative","w-100"],[1,"filter-mobile","position-fixed"],[1,"btn-filter","my-5","mx-4","px-3","position-fixed","bottom-0","start-0","d-flex","justify-content-center","align-items-center",3,"click"],["src","assets/img/logo/edit.png","alt","","class","s-img",4,"ngIf","ngIfElse"],[1,"col-lg-9","products-list","w-100"],["src","assets/img/logo/edit.png","alt","",1,"s-img"],[1,""],["src","assets/img/logo/close .png","alt","",1,"s-img"]],template:function(e,o){if(e&1&&(P(0,"app-nav"),C(1,ie,45,23,"div",2)(2,pe,49,27,"ng-template",null,0,D),P(4,"app-footer")),e&2){let l=E(3);c(),s("ngIf",o.Desktop)("ngIfElse",l)}},dependencies:[W,T,z,R,G,J,U,L,A,N,H,$,j],styles:['@charset "UTF-8";.products[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.products[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{width:11vw;flex:0 0 300px;position:sticky;top:0;height:100vh;overflow-y:auto}.products[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px}.products[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   .products-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;padding:20px}.products[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]{margin-bottom:20px}.products[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;text-align:left;color:#1d242b;background-color:#fafafa80;border:1px solid #1D242B;padding:10px;border-radius:8px;font-weight:500}.products[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#c7eeff80}.products[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{display:none;padding:10px;border:1px solid #1D242B;background-color:#fafafa80;border-radius:8px}.products[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .dropdown-content.show[_ngcontent-%COMP%]{display:block}.products[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;margin-bottom:8px}.products[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:8px;width:16px;height:16px}.products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{margin-bottom:20px;padding:10px;border-radius:8px;border:3px solid #1D242B;background-color:#fafafa80;transition:all .3s ease}.products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]:hover{transform:scale(1.02);background-color:#c7eeff80}.products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;object-fit:cover;height:200px}.products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:10px 15px;text-align:center}.products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:8px}.products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:14px;color:#666}.products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-price[_ngcontent-%COMP%]{margin-top:10px;font-size:16px;font-weight:700}.products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-price[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{font-size:14px;text-decoration:line-through}.products[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-price[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%]{font-size:14px}.products[_ngcontent-%COMP%]   .price-slider[_ngcontent-%COMP%]{position:relative;width:100%}.products[_ngcontent-%COMP%]   .price-slider[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;width:100%;height:25px;background-color:#0077c0;border-radius:5px;outline:none}.products[_ngcontent-%COMP%]   .price-slider[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]:active{background-color:#fff0}.products[_ngcontent-%COMP%]   .price-slider[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;background:#1d242b;border:2px solid #6d9886;border-radius:50%;cursor:pointer;transition:transform .2s ease-in-out}.products[_ngcontent-%COMP%]   .price-slider[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb:hover{transform:scale(1.2)}.products[_ngcontent-%COMP%]   .price-slider[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{width:20px;height:20px;background:#fafafa80;border:2px solid #1D242B;border-radius:50%;cursor:pointer}.products[_ngcontent-%COMP%]   .price-slider[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-runnable-track{width:100%;height:17px;background-color:#0077c0;border-radius:5px}.products[_ngcontent-%COMP%]   .price-slider[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-track{width:100%;height:8px;background-color:#fafafa80;border-radius:5px}.mobile[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{width:100%}.mobile[_ngcontent-%COMP%]   .filter-mobile[_ngcontent-%COMP%]{position:absolute;top:-100%;left:0;width:100%;background:#fff;padding:20px;box-shadow:0 5px 10px #0003;transition:top .4s ease-in-out}.mobile[_ngcontent-%COMP%]   .filter-mobile.show[_ngcontent-%COMP%]{top:0}.mobile[_ngcontent-%COMP%]   .filter-mobile[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-weight:700;margin-bottom:15px}.mobile[_ngcontent-%COMP%]   .filter-mobile[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .3s ease-out}.mobile[_ngcontent-%COMP%]   .filter-mobile[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]{max-height:300px}.mobile[_ngcontent-%COMP%]   .filter-mobile[_ngcontent-%COMP%]   .price-slider[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.mobile[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]{background-color:#fafafa;border:1px solid #1D242B;height:50px;width:50px;border-radius:130px;box-shadow:0 12px 24px #00000080}.mobile[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2em}']})};export{Q as ProductsComponent};
